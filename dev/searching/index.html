<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Searching · SimilaritySearch.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://sadit.github.io/SimilaritySearch.jl/searching/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SimilaritySearch.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Searching</a><ul class="internal"><li><a class="tocitem" href="#Other-similarity-search-indexes"><span>Other similarity search indexes</span></a></li></ul></li><li><a class="tocitem" href="../searchgraph/">SearchGraph</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../knnresult/">Knn results</a></li><li><a class="tocitem" href="../distminkowski/">Minkowski distances</a></li><li><a class="tocitem" href="../distcos/">Cosine and angle distances</a></li><li><a class="tocitem" href="../diststrings/">String alignments</a></li><li><a class="tocitem" href="../disthamming/">Hamming distances</a></li><li><a class="tocitem" href="../distsets/">Sets distances</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Searching</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Searching</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sadit/SimilaritySearch.jl/blob/master/docs/src/searching.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p>This package focus on solving <span>$k$</span>-NN queries, that is, retrieving the <span>$k$</span> nearest neighbors of a given query in a collection of items under a distance function. The distance function is often a metric function.</p><p>The general procedure is as follows:</p><pre><code class="language-julia">using SimilaritySearch
X = [randn(3) for i in 1:10_000]
Q = [randn(3) for i in 1:5]


index = ExhaustiveSearch(L2Distance(), X)

[search(index, q, KnnResult(3)) for q in Q]</code></pre><pre class="documenter-example-output">5-element Vector{KnnResult{Int32, Float32}}:
 KnnResult{Int32, Float32}(Int32[6737, 2660, 2739], Float32[0.09068322, 0.092070185, 0.09533997], 3, 0)
 KnnResult{Int32, Float32}(Int32[8217, 7953, 9940], Float32[0.051036317, 0.06508266, 0.072334744], 3, 0)
 KnnResult{Int32, Float32}(Int32[6115, 2008, 6107], Float32[0.11773437, 0.12259233, 0.17325391], 3, 0)
 KnnResult{Int32, Float32}(Int32[536, 1589, 5983], Float32[0.16617364, 0.20035826, 0.25000852], 3, 0)
 KnnResult{Int32, Float32}(Int32[2302, 699, 5054], Float32[0.34382504, 0.38746148, 0.46835926], 3, 0)</pre><p>Given a dataset <span>$X$</span>, we need to create an index structure; in this example, we created a sequential search index named <a href="@ref"><code>ExhaustiveSearch</code></a>. The search is performed by <a href="@ref"><code>search</code></a>. This function recieves the index, the query and the specification of the query (i.e., the <a href="../knnresult/#SimilaritySearch.KnnResult"><code>KnnResult</code></a> object, which also works as container of the result set).</p><p>Regarding the distance function, <a href="https://github.com/sadit/SimilaritySearch.jl"><code>SimilaritySearch.jl</code></a> defines several distance functions, but also can work with any of the distance functions specified in <a href="https://github.com/JuliaStats/Distances.jl"><code>Distances.jl</code></a> package.</p><h2 id="Other-similarity-search-indexes"><a class="docs-heading-anchor" href="#Other-similarity-search-indexes">Other similarity search indexes</a><a id="Other-similarity-search-indexes-1"></a><a class="docs-heading-anchor-permalink" href="#Other-similarity-search-indexes" title="Permalink"></a></h2><p>The <a href="@refs"><code>ExahustiveSearch</code></a> index performs an exhaustive evaluation of the query against each element of the dataset, but without any preprocessing cost.</p><p>In addition of this, the package implements other indexes that can improve the search cost in diverse situations. These indexes have memory and preprocessing time requirements that must be considered in any real application.</p><h3 id="Approximate-search"><a class="docs-heading-anchor" href="#Approximate-search">Approximate search</a><a id="Approximate-search-1"></a><a class="docs-heading-anchor-permalink" href="#Approximate-search" title="Permalink"></a></h3><p>Performs approximate search; they could solve the query, i.e., the result can lost some items or include some others not being part of the exact solution. In contrast, these indexes are often quite faster and more flexible than exact search methods.</p><ul><li><a href="@ref"><code>SearchGraph</code></a>: Very fast and precise similarity search index; supports multithreading construction (<strong>cite</strong>).</li><li><a href="https://github.com/sadit/NeighborhoodApproximationIndex.jl"><code>Knr</code></a>: Indexes based on K nearest references (<em>external package</em>, <strong>cite</strong>).</li><li><a href="https://github.com/sadit/NeighborhoodApproximationIndex.jl"><code>DeloneInvIndex</code></a>: An index based on a delone partition (<em>external package</em>, <strong>cite</strong>).</li></ul><h3 id="Exact-search"><a class="docs-heading-anchor" href="#Exact-search">Exact search</a><a id="Exact-search-1"></a><a class="docs-heading-anchor-permalink" href="#Exact-search" title="Permalink"></a></h3><ul><li><a href="@ref"><code>Kvp</code></a>: K vantage points (<strong>cite</strong>).</li><li><a href="@ref"><code>PivotedSearch</code></a>: A generic pivot table (<strong>cite</strong>).</li><li><a href="@ref"><code>sss</code></a>: A pivot table with pivots selected with the SSS scheme (<strong>cite</strong>).</li><li><a href="@ref"><code>distant_tournament</code></a>. A pivot table where pivots are selected using a simple distant tournament (<strong>cite</strong>).</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../searchgraph/">SearchGraph »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 25 June 2021 21:40">Friday 25 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
